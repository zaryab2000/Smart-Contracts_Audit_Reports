// SPDX-License-Identifier: MIT
pragma solidity ^0.6.12;
import "@openzeppelin/contracts/math/SafeMath.sol";

contract InterestCalculator {
    using SafeMath for uint;
    uint private constant MAX_DAYS = 365;

    function _initCumulativeInterestForDays() internal pure returns(uint[] memory) {
        uint[] memory cumulativeInterestForDays = new uint[](MAX_DAYS.add(1));

        cumulativeInterestForDays[0] = 0;
        cumulativeInterestForDays[1] = 1;
        cumulativeInterestForDays[2] = 2;
        cumulativeInterestForDays[3] = 3;
        cumulativeInterestForDays[4] = 4;
        cumulativeInterestForDays[5] = 6;
        cumulativeInterestForDays[6] = 8;
        cumulativeInterestForDays[7] = 10;
        cumulativeInterestForDays[8] = 13;
        cumulativeInterestForDays[9] = 16;
        cumulativeInterestForDays[10] = 20;
        cumulativeInterestForDays[11] = 24;
        cumulativeInterestForDays[12] = 28;
        cumulativeInterestForDays[13] = 33;
        cumulativeInterestForDays[14] = 38;
        cumulativeInterestForDays[15] = 43;
        cumulativeInterestForDays[16] = 49;
        cumulativeInterestForDays[17] = 55;
        cumulativeInterestForDays[18] = 61;
        cumulativeInterestForDays[19] = 68;
        cumulativeInterestForDays[20] = 75;
        cumulativeInterestForDays[21] = 83;
        cumulativeInterestForDays[22] = 91;
        cumulativeInterestForDays[23] = 99;
        cumulativeInterestForDays[24] = 108;
        cumulativeInterestForDays[25] = 117;
        cumulativeInterestForDays[26] = 127;
        cumulativeInterestForDays[27] = 137;
        cumulativeInterestForDays[28] = 147;
        cumulativeInterestForDays[29] = 158;
        cumulativeInterestForDays[30] = 169;
        cumulativeInterestForDays[31] = 180;
        cumulativeInterestForDays[32] = 192;
        cumulativeInterestForDays[33] = 204;
        cumulativeInterestForDays[34] = 217;
        cumulativeInterestForDays[35] = 230;
        cumulativeInterestForDays[36] = 243;
        cumulativeInterestForDays[37] = 257;
        cumulativeInterestForDays[38] = 271;
        cumulativeInterestForDays[39] = 286;
        cumulativeInterestForDays[40] = 301;
        cumulativeInterestForDays[41] = 316;
        cumulativeInterestForDays[42] = 332;
        cumulativeInterestForDays[43] = 348;
        cumulativeInterestForDays[44] = 365;
        cumulativeInterestForDays[45] = 382;
        cumulativeInterestForDays[46] = 399;
        cumulativeInterestForDays[47] = 417;
        cumulativeInterestForDays[48] = 435;
        cumulativeInterestForDays[49] = 454;
        cumulativeInterestForDays[50] = 473;
        cumulativeInterestForDays[51] = 493;
        cumulativeInterestForDays[52] = 513;
        cumulativeInterestForDays[53] = 533;
        cumulativeInterestForDays[54] = 554;
        cumulativeInterestForDays[55] = 575;
        cumulativeInterestForDays[56] = 597;
        cumulativeInterestForDays[57] = 619;
        cumulativeInterestForDays[58] = 641;
        cumulativeInterestForDays[59] = 664;
        cumulativeInterestForDays[60] = 687;
        cumulativeInterestForDays[61] = 711;
        cumulativeInterestForDays[62] = 735;
        cumulativeInterestForDays[63] = 760;
        cumulativeInterestForDays[64] = 785;
        cumulativeInterestForDays[65] = 810;
        cumulativeInterestForDays[66] = 836;
        cumulativeInterestForDays[67] = 862;
        cumulativeInterestForDays[68] = 889;
        cumulativeInterestForDays[69] = 916;
        cumulativeInterestForDays[70] = 944;
        cumulativeInterestForDays[71] = 972;
        cumulativeInterestForDays[72] = 1001;
        cumulativeInterestForDays[73] = 1030;
        cumulativeInterestForDays[74] = 1060;
        cumulativeInterestForDays[75] = 1090;
        cumulativeInterestForDays[76] = 1120;
        cumulativeInterestForDays[77] = 1151;
        cumulativeInterestForDays[78] = 1182;
        cumulativeInterestForDays[79] = 1214;
        cumulativeInterestForDays[80] = 1246;
        cumulativeInterestForDays[81] = 1279;
        cumulativeInterestForDays[82] = 1312;
        cumulativeInterestForDays[83] = 1346;
        cumulativeInterestForDays[84] = 1380;
        cumulativeInterestForDays[85] = 1415;
        cumulativeInterestForDays[86] = 1450;
        cumulativeInterestForDays[87] = 1486;
        cumulativeInterestForDays[88] = 1522;
        cumulativeInterestForDays[89] = 1558;
        cumulativeInterestForDays[90] = 1595;
        cumulativeInterestForDays[91] = 1632;
        cumulativeInterestForDays[92] = 1670;
        cumulativeInterestForDays[93] = 1708;
        cumulativeInterestForDays[94] = 1747;
        cumulativeInterestForDays[95] = 1786;
        cumulativeInterestForDays[96] = 1826;
        cumulativeInterestForDays[97] = 1866;
        cumulativeInterestForDays[98] = 1907;
        cumulativeInterestForDays[99] = 1948;
        cumulativeInterestForDays[100] = 1990;
        cumulativeInterestForDays[101] = 2032;
        cumulativeInterestForDays[102] = 2075;
        cumulativeInterestForDays[103] = 2118;
        cumulativeInterestForDays[104] = 2162;
        cumulativeInterestForDays[105] = 2206;
        cumulativeInterestForDays[106] = 2251;
        cumulativeInterestForDays[107] = 2296;
        cumulativeInterestForDays[108] = 2342;
        cumulativeInterestForDays[109] = 2388;
        cumulativeInterestForDays[110] = 2435;
        cumulativeInterestForDays[111] = 2482;
        cumulativeInterestForDays[112] = 2530;
        cumulativeInterestForDays[113] = 2578;
        cumulativeInterestForDays[114] = 2627;
        cumulativeInterestForDays[115] = 2676;
        cumulativeInterestForDays[116] = 2726;
        cumulativeInterestForDays[117] = 2776;
        cumulativeInterestForDays[118] = 2827;
        cumulativeInterestForDays[119] = 2879;
        cumulativeInterestForDays[120] = 2931;
        cumulativeInterestForDays[121] = 2984;
        cumulativeInterestForDays[122] = 3037;
        cumulativeInterestForDays[123] = 3091;
        cumulativeInterestForDays[124] = 3145;
        cumulativeInterestForDays[125] = 3200;
        cumulativeInterestForDays[126] = 3255;
        cumulativeInterestForDays[127] = 3311;
        cumulativeInterestForDays[128] = 3367;
        cumulativeInterestForDays[129] = 3424;
        cumulativeInterestForDays[130] = 3481;
        cumulativeInterestForDays[131] = 3539;
        cumulativeInterestForDays[132] = 3598;
        cumulativeInterestForDays[133] = 3657;
        cumulativeInterestForDays[134] = 3717;
        cumulativeInterestForDays[135] = 3777;
        cumulativeInterestForDays[136] = 3838;
        cumulativeInterestForDays[137] = 3899;
        cumulativeInterestForDays[138] = 3961;
        cumulativeInterestForDays[139] = 4024;
        cumulativeInterestForDays[140] = 4087;
        cumulativeInterestForDays[141] = 4151;
        cumulativeInterestForDays[142] = 4215;
        cumulativeInterestForDays[143] = 4280;
        cumulativeInterestForDays[144] = 4345;
        cumulativeInterestForDays[145] = 4411;
        cumulativeInterestForDays[146] = 4478;
        cumulativeInterestForDays[147] = 4545;
        cumulativeInterestForDays[148] = 4613;
        cumulativeInterestForDays[149] = 4681;
        cumulativeInterestForDays[150] = 4750;
        cumulativeInterestForDays[151] = 4819;
        cumulativeInterestForDays[152] = 4889;
        cumulativeInterestForDays[153] = 4960;
        cumulativeInterestForDays[154] = 5031;
        cumulativeInterestForDays[155] = 5103;
        cumulativeInterestForDays[156] = 5175;
        cumulativeInterestForDays[157] = 5248;
        cumulativeInterestForDays[158] = 5322;
        cumulativeInterestForDays[159] = 5396;
        cumulativeInterestForDays[160] = 5471;
        cumulativeInterestForDays[161] = 5547;
        cumulativeInterestForDays[162] = 5623;
        cumulativeInterestForDays[163] = 5700;
        cumulativeInterestForDays[164] = 5777;
        cumulativeInterestForDays[165] = 5855;
        cumulativeInterestForDays[166] = 5934;
        cumulativeInterestForDays[167] = 6013;
        cumulativeInterestForDays[168] = 6093;
        cumulativeInterestForDays[169] = 6173;
        cumulativeInterestForDays[170] = 6254;
        cumulativeInterestForDays[171] = 6336;
        cumulativeInterestForDays[172] = 6418;
        cumulativeInterestForDays[173] = 6501;
        cumulativeInterestForDays[174] = 6585;
        cumulativeInterestForDays[175] = 6669;
        cumulativeInterestForDays[176] = 6754;
        cumulativeInterestForDays[177] = 6840;
        cumulativeInterestForDays[178] = 6926;
        cumulativeInterestForDays[179] = 7013;
        cumulativeInterestForDays[180] = 7101;
        cumulativeInterestForDays[181] = 7189;
        cumulativeInterestForDays[182] = 7278;
        cumulativeInterestForDays[183] = 7368;
        cumulativeInterestForDays[184] = 7458;
        cumulativeInterestForDays[185] = 7549;
        cumulativeInterestForDays[186] = 7641;
        cumulativeInterestForDays[187] = 7733;
        cumulativeInterestForDays[188] = 7826;
        cumulativeInterestForDays[189] = 7920;
        cumulativeInterestForDays[190] = 8014;
        cumulativeInterestForDays[191] = 8109;
        cumulativeInterestForDays[192] = 8205;
        cumulativeInterestForDays[193] = 8301;
        cumulativeInterestForDays[194] = 8398;
        cumulativeInterestForDays[195] = 8496;
        cumulativeInterestForDays[196] = 8594;
        cumulativeInterestForDays[197] = 8693;
        cumulativeInterestForDays[198] = 8793;
        cumulativeInterestForDays[199] = 8893;
        cumulativeInterestForDays[200] = 8994;
        cumulativeInterestForDays[201] = 9096;
        cumulativeInterestForDays[202] = 9199;
        cumulativeInterestForDays[203] = 9302;
        cumulativeInterestForDays[204] = 9406;
        cumulativeInterestForDays[205] = 9511;
        cumulativeInterestForDays[206] = 9616;
        cumulativeInterestForDays[207] = 9722;
        cumulativeInterestForDays[208] = 9829;
        cumulativeInterestForDays[209] = 9937;
        cumulativeInterestForDays[210] = 10045;
        cumulativeInterestForDays[211] = 10154;
        cumulativeInterestForDays[212] = 10264;
        cumulativeInterestForDays[213] = 10374;
        cumulativeInterestForDays[214] = 10485;
        cumulativeInterestForDays[215] = 10597;
        cumulativeInterestForDays[216] = 10710;
        cumulativeInterestForDays[217] = 10823;
        cumulativeInterestForDays[218] = 10937;
        cumulativeInterestForDays[219] = 11052;
        cumulativeInterestForDays[220] = 11168;
        cumulativeInterestForDays[221] = 11284;
        cumulativeInterestForDays[222] = 11401;
        cumulativeInterestForDays[223] = 11519;
        cumulativeInterestForDays[224] = 11638;
        cumulativeInterestForDays[225] = 11757;
        cumulativeInterestForDays[226] = 11877;
        cumulativeInterestForDays[227] = 11998;
        cumulativeInterestForDays[228] = 12120;
        cumulativeInterestForDays[229] = 12243;
        cumulativeInterestForDays[230] = 12366;
        cumulativeInterestForDays[231] = 12490;
        cumulativeInterestForDays[232] = 12615;
        cumulativeInterestForDays[233] = 12741;
        cumulativeInterestForDays[234] = 12867;
        cumulativeInterestForDays[235] = 12994;
        cumulativeInterestForDays[236] = 13122;
        cumulativeInterestForDays[237] = 13251;
        cumulativeInterestForDays[238] = 13381;
        cumulativeInterestForDays[239] = 13511;
        cumulativeInterestForDays[240] = 13642;
        cumulativeInterestForDays[241] = 13774;
        cumulativeInterestForDays[242] = 13907;
        cumulativeInterestForDays[243] = 14041;
        cumulativeInterestForDays[244] = 14176;
        cumulativeInterestForDays[245] = 14311;
        cumulativeInterestForDays[246] = 14447;
        cumulativeInterestForDays[247] = 14584;
        cumulativeInterestForDays[248] = 14722;
        cumulativeInterestForDays[249] = 14861;
        cumulativeInterestForDays[250] = 15001;
        cumulativeInterestForDays[251] = 15141;
        cumulativeInterestForDays[252] = 15282;
        cumulativeInterestForDays[253] = 15424;
        cumulativeInterestForDays[254] = 15567;
        cumulativeInterestForDays[255] = 15711;
        cumulativeInterestForDays[256] = 15856;
        cumulativeInterestForDays[257] = 16001;
        cumulativeInterestForDays[258] = 16147;
        cumulativeInterestForDays[259] = 16294;
        cumulativeInterestForDays[260] = 16442;
        cumulativeInterestForDays[261] = 16591;
        cumulativeInterestForDays[262] = 16741;
        cumulativeInterestForDays[263] = 16892;
        cumulativeInterestForDays[264] = 17044;
        cumulativeInterestForDays[265] = 17196;
        cumulativeInterestForDays[266] = 17349;
        cumulativeInterestForDays[267] = 17503;
        cumulativeInterestForDays[268] = 17658;
        cumulativeInterestForDays[269] = 17814;
        cumulativeInterestForDays[270] = 17971;
        cumulativeInterestForDays[271] = 18129;
        cumulativeInterestForDays[272] = 18288;
        cumulativeInterestForDays[273] = 18448;
        cumulativeInterestForDays[274] = 18608;
        cumulativeInterestForDays[275] = 18769;
        cumulativeInterestForDays[276] = 18931;
        cumulativeInterestForDays[277] = 19094;
        cumulativeInterestForDays[278] = 19258;
        cumulativeInterestForDays[279] = 19423;
        cumulativeInterestForDays[280] = 19589;
        cumulativeInterestForDays[281] = 19756;
        cumulativeInterestForDays[282] = 19924;
        cumulativeInterestForDays[283] = 20093;
        cumulativeInterestForDays[284] = 20263;
        cumulativeInterestForDays[285] = 20434;
        cumulativeInterestForDays[286] = 20606;
        cumulativeInterestForDays[287] = 20779;
        cumulativeInterestForDays[288] = 20953;
        cumulativeInterestForDays[289] = 21127;
        cumulativeInterestForDays[290] = 21302;
        cumulativeInterestForDays[291] = 21478;
        cumulativeInterestForDays[292] = 21655;
        cumulativeInterestForDays[293] = 21833;
        cumulativeInterestForDays[294] = 22012;
        cumulativeInterestForDays[295] = 22192;
        cumulativeInterestForDays[296] = 22373;
        cumulativeInterestForDays[297] = 22555;
        cumulativeInterestForDays[298] = 22738;
        cumulativeInterestForDays[299] = 22922;
        cumulativeInterestForDays[300] = 23107;
        cumulativeInterestForDays[301] = 23293;
        cumulativeInterestForDays[302] = 23480;
        cumulativeInterestForDays[303] = 23668;
        cumulativeInterestForDays[304] = 23857;
        cumulativeInterestForDays[305] = 24047;
        cumulativeInterestForDays[306] = 24238;
        cumulativeInterestForDays[307] = 24430;
        cumulativeInterestForDays[308] = 24623;
        cumulativeInterestForDays[309] = 24817;
        cumulativeInterestForDays[310] = 25012;
        cumulativeInterestForDays[311] = 25208;
        cumulativeInterestForDays[312] = 25405;
        cumulativeInterestForDays[313] = 25603;
        cumulativeInterestForDays[314] = 25803;
        cumulativeInterestForDays[315] = 26004;
        cumulativeInterestForDays[316] = 26206;
        cumulativeInterestForDays[317] = 26409;
        cumulativeInterestForDays[318] = 26613;
        cumulativeInterestForDays[319] = 26818;
        cumulativeInterestForDays[320] = 27024;
        cumulativeInterestForDays[321] = 27231;
        cumulativeInterestForDays[322] = 27439;
        cumulativeInterestForDays[323] = 27648;
        cumulativeInterestForDays[324] = 27858;
        cumulativeInterestForDays[325] = 28069;
        cumulativeInterestForDays[326] = 28281;
        cumulativeInterestForDays[327] = 28494;
        cumulativeInterestForDays[328] = 28709;
        cumulativeInterestForDays[329] = 28925;
        cumulativeInterestForDays[330] = 29142;
        cumulativeInterestForDays[331] = 29360;
        cumulativeInterestForDays[332] = 29579;
        cumulativeInterestForDays[333] = 29799;
        cumulativeInterestForDays[334] = 30020;
        cumulativeInterestForDays[335] = 30242;
        cumulativeInterestForDays[336] = 30465;
        cumulativeInterestForDays[337] = 30690;
        cumulativeInterestForDays[338] = 30916;
        cumulativeInterestForDays[339] = 31143;
        cumulativeInterestForDays[340] = 31371;
        cumulativeInterestForDays[341] = 31600;
        cumulativeInterestForDays[342] = 31830;
        cumulativeInterestForDays[343] = 32061;
        cumulativeInterestForDays[344] = 32294;
        cumulativeInterestForDays[345] = 32528;
        cumulativeInterestForDays[346] = 32763;
        cumulativeInterestForDays[347] = 32999;
        cumulativeInterestForDays[348] = 33236;
        cumulativeInterestForDays[349] = 33475;
        cumulativeInterestForDays[350] = 33715;
        cumulativeInterestForDays[351] = 33956;
        cumulativeInterestForDays[352] = 34198;
        cumulativeInterestForDays[353] = 34441;
        cumulativeInterestForDays[354] = 34685;
        cumulativeInterestForDays[355] = 34931;
        cumulativeInterestForDays[356] = 35178;
        cumulativeInterestForDays[357] = 35426;
        cumulativeInterestForDays[358] = 35675;
        cumulativeInterestForDays[359] = 35926;
        cumulativeInterestForDays[360] = 36178;
        cumulativeInterestForDays[361] = 36431;
        cumulativeInterestForDays[362] = 36685;
        cumulativeInterestForDays[363] = 36940;
        cumulativeInterestForDays[364] = 37197;
        cumulativeInterestForDays[365] = 37455;

        return cumulativeInterestForDays;
    }

    function _getInterestTillDays(uint _day) internal pure returns(uint) {
        require(_day <= MAX_DAYS);

        return _initCumulativeInterestForDays()[_day];
    }
}
